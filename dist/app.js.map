{"version":3,"sources":["webpack:///./src/main.js","webpack:///./src/App.vue","webpack:///./src/App.vue?4a3b","webpack:///src/App.vue","webpack:///./src/api/index.js","webpack:///./src/api/article.js","webpack:///./src/api/course.js","webpack:///./src/api/user.js","webpack:///./src/api/video.js","webpack:///./src/api/vip.js","webpack:///./src/api/core/server.js"],"names":["Vue","prototype","$http","fly","config","productionTip","App","mpType","app","$mount","article","course","user","video","vip","getCategoryList","params","method","getCategoryInfo","id","getArticleList","categoryId","getArticleInfo","articleId","latestArticle","getCourseList","getCourseInfo","getVideosList","getCourseComments","submitComments","login","register","getUserInfo","getUserCourseList","getUserOrder","getVideosInfo","getVideosUrl","getVideosComments","getVipList","buyVip","Fly","require","baseURL","process","interceptors","request","use","headers","wx","getStorageSync","console","log","body","response","status","data","redirectTo","url","hideLoading","showToast","title","message","icon","duration","reject","error","mask","flyio","resolve","showLoading","then","access_token","messages","err"],"mappings":"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","file":"app.js","sourcesContent":["import Vue from 'vue'\r\nimport App from './App'\r\nimport fly from './api/index'\r\nVue.prototype.$http = fly\r\nVue.config.productionTip = false\r\nApp.mpType = 'app'\r\n\r\nconst app = new Vue(App)\r\napp.$mount()\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../node_modules/mpvue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5926c95a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!px2rpx-loader?{\\\"baseDpr\\\":1,\\\"rpxUnit\\\":0.5}!postcss-loader?{\\\"sourceMap\\\":true}!../node_modules/mpvue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/mpvue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/mpvue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nvar __vue_template__ = null\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src\\\\App.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-5926c95a\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-5926c95a\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 44\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":false,\"sourceMap\":false}!./node_modules/mpvue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-5926c95a\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/px2rpx-loader?{\"baseDpr\":1,\"rpxUnit\":0.5}!./node_modules/postcss-loader/lib?{\"sourceMap\":true}!./node_modules/mpvue-loader/lib/selector.js?type=styles&index=0!./src/App.vue\n// module id = 45\n// module chunks = 1","<script>\r\nexport default {\r\n  created () {\r\n    // 调用API从本地缓存中获取数据\r\n    const logs = wx.getStorageSync('logs') || []\r\n    logs.unshift(Date.now())\r\n    wx.setStorageSync('logs', logs)\r\n\r\n    console.log('app created and cache logs by setStorageSync')\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.container {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 200rpx 0;\r\n  box-sizing: border-box;\r\n}\r\n/* this rule will be remove */\r\n* {\r\n  transition: width 2s;\r\n  -moz-transition: width 2s;\r\n  -webkit-transition: width 2s;\r\n  -o-transition: width 2s;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue?616c1434","import article from './article'\r\nimport course from './course'\r\nimport user from './user'\r\nimport video from './video'\r\nimport vip from './vip'\r\n\r\nexport default {\r\n  article,\r\n  course,\r\n  user,\r\n  video,\r\n  vip\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/index.js","import fly from './core/server'\r\n\r\nexport default {\r\n  // 分类列表\r\n  getCategoryList: function (params) {\r\n    return fly(`/api/v1/faq/categories`, params, {\r\n      method: 'GET'\r\n    })\r\n  },\r\n  // 分类详情\r\n  getCategoryInfo: function (params, id) {\r\n    return fly(`/api/v1/faq/category/${id}`, params, {\r\n      method: 'GET'\r\n    })\r\n  },\r\n  // 文章列表\r\n  getArticleList: function (params, categoryId) {\r\n    return fly(`/api/v1/faq/category/${categoryId}/articles`, params, {\r\n      method: 'GET'\r\n    })\r\n  },\r\n  // 文章详情\r\n  getArticleInfo: function (params, articleId) {\r\n    return fly(`/api/v1/faq/article/${articleId}`, params, {\r\n      method: 'get'\r\n    })\r\n  },\r\n  // 最近文章\r\n  latestArticle: function (params) {\r\n    return fly(`/api/v1/faq/article/latest`, params, {\r\n      method: 'GET'\r\n    })\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/article.js","\r\nimport fly from './core/server'\r\n\r\nexport default {\r\n  // 获取课程分页列表\r\n  getCourseList: function (params) {\r\n    return fly('/api/v1/courses', params, {\r\n      method: 'GET'\r\n    })\r\n  },\r\n  // 课程详情\r\n  getCourseInfo: function (params, id) {\r\n    return fly(`/api/v1/course/${id}`, params, {\r\n      method: 'GET'\r\n    })\r\n  },\r\n  // 课程下的视频列表\r\n  getVideosList: function (params, id) {\r\n    return fly(`/api/v1/course/${id}/videos`, params, {\r\n      method: 'GET'\r\n    })\r\n  },\r\n  // 课程评论\r\n  getCourseComments: function (params, id) {\r\n    return fly(`/api/v1/course/${id}/comments`, params, {\r\n      method: 'GET'\r\n    })\r\n  },\r\n  // 课程评论提交\r\n  submitComments: function (params, id) {\r\n    return fly(`/api/v1/course/${id}/comment`, params, {\r\n      method: 'POST'\r\n    })\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/course.js","import fly from './core/server'\r\n\r\nexport default {\r\n  // 登录\r\n  login: function (params) {\r\n    return fly('/oauth/token', params, {\r\n      method: 'POST'\r\n    })\r\n  },\r\n  // 注册\r\n  register: function (params) {\r\n    return fly('/api/v1/register', params, {\r\n      method: 'POST'\r\n    })\r\n  },\r\n  // 获取我的资料\r\n  getUserInfo: function (params) {\r\n    return fly('/api/v1/member/profile', params, {\r\n      method: 'GET'\r\n    })\r\n  },\r\n  // 获取我的课程列表\r\n  getUserCourseList: function (params) {\r\n    return fly('/api/v1/member/courses', params, {\r\n      method: 'GET'\r\n    })\r\n  },\r\n  // 获取我的订单\r\n  getUserOrder: function (params) {\r\n    return fly('/api/v1/member/orders', params, {\r\n      method: 'GET'\r\n    })\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/user.js","import fly from './core/server'\r\n\r\nexport default {\r\n  // 视频详情\r\n  getVideosInfo: function (params, id) {\r\n    return fly(`/api/v1/video/${id}`, params, {\r\n      method: 'GET'\r\n    })\r\n  },\r\n  // 视频播放地址\r\n  getVideosUrl: function (params, id) {\r\n    return fly(`/api/v1/video/${id}/play_url`, params, {\r\n      method: 'GET'\r\n    })\r\n  },\r\n  // 视频评论列表\r\n  getVideosComments: function (params, id) {\r\n    return fly(`/api/v1/video/${id}/comments`, params, {\r\n      method: 'GET'\r\n    })\r\n  },\r\n  // 视频评论提交\r\n  submitComments: function (params, id) {\r\n    return fly(`/api/v1/video/${id}/comment`, params, {\r\n      method: 'POST'\r\n    })\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/video.js","import fly from './core/server'\r\n\r\nexport default {\r\n  // VIP列表\r\n  getVipList: function (params) {\r\n    return fly(`/api/v1/roles`, params, {\r\n      method: 'GET'\r\n    })\r\n  },\r\n  // 购买VIP\r\n  buyVip: function (params, id) {\r\n    return fly(`/api/v1/role/${id}/buy`, params, {\r\n      method: 'POST'\r\n    })\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/vip.js","\r\nvar Fly = require('flyio/dist/npm/wx')\r\nvar fly = new Fly()\r\n// const HOST_DEV = 'https://1o1.cc' // eslint-disable-line\r\n// const HOST_PROD = 'https://xthapi-prod.isagr.com' // eslint-disable-line\r\nfly.config.baseURL = process.env.API\r\n// fly.config.header['content-type'] = 'application/json'\r\n// 添加请求拦截器\r\nfly.interceptors.request.use((request) => {\r\n  // 给所有请求添加自定义header\r\n  request.headers['content-type'] = 'application/json'\r\n  request.headers['Authorization'] = `Bearer ${wx.getStorageSync('access_token')}`\r\n  request.headers['third-session'] = wx.getStorageSync('thirdSession') || ''\r\n  // 打印出请求体\r\n  console.log(request.body)\r\n  // 终止请求\r\n  // var err=new Error(\"xxx\")\r\n  // err.request=request\r\n  // return Promise.reject(new Error(\"\"))\r\n  // 可以显式返回request, 也可以不返回，没有返回值时拦截器中默认返回request\r\n  return request\r\n})\r\n\r\n// 添加响应拦截器，响应拦截器会在then/catch处理之前执行\r\nfly.interceptors.response.use(\r\n  (response) => {\r\n    console.log('response', response)\r\n    // 只将请求结果的data字段返回\r\n    if (response.status === 200 || response.status === 201) {\r\n      return response.data\r\n    } else if (response.status === 302) {\r\n      wx.redirectTo({\r\n        url: '/pages/login/main'\r\n      })\r\n    } else {\r\n      wx.hideLoading()\r\n      wx.showToast({\r\n        title: typeof (response.message) === 'string' ? response.message : '系统出错',\r\n        icon: 'none',\r\n        duration: 1000\r\n      })\r\n      return Promise.reject(response)\r\n    }\r\n  },\r\n  (error) => {\r\n    console.log('error', error)\r\n    wx.hideLoading()\r\n    wx.showToast({\r\n      title: '未知错误',\r\n      icon: 'none',\r\n      mask: true\r\n    })\r\n    console.log(error)\r\n    // 发生网络错误后会走到这里\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport default function flyio (url, params, config) {\r\n  return new Promise((resolve, reject) => {\r\n    wx.showLoading({\r\n      title: '加载中',\r\n      mask: true\r\n    })\r\n    fly.request(url, params, config).then((response) => {\r\n      wx.hideLoading()\r\n      if (response) {\r\n        resolve(response)\r\n      } else if (response.access_token) { // for login\r\n        resolve(response)\r\n      } else {\r\n        wx.showToast({\r\n          title: typeof (response.messages) === 'string' ? response.messages : '系统出错',\r\n          icon: 'none',\r\n          duration: 1000\r\n        })\r\n      }\r\n    }, (err) => {\r\n      console.log(err, 'err')\r\n      reject(err.response)\r\n    })\r\n  })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/core/server.js"],"sourceRoot":""}